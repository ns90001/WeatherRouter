{"ast":null,"code":"var _jsxFileName = \"/Users/naveen/cs0320/term-project-amanjal-igurland-jpate-nsharm25/frontend/src/Menu.js\",\n    _s = $RefreshSig$();\n\nimport './App.css';\nimport Toggle from \"./Toggle\";\nimport { ArrowDropUp, Directions, Home, KeyboardArrowDown, KeyboardArrowUp, LocationOn, NearMe, WbSunny } from \"@material-ui/icons\";\nimport { useRef, useState, useEffect } from 'react';\nimport LocationInput from \"./LocationInput\";\nimport DateTimePicker from 'react-datetime-picker/dist/entry.nostyle';\nimport { Redirect } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Menu(props) {\n  _s();\n\n  const [redirectToResultsPage, setRedirectToResultsPage] = useState(null);\n  const stops = useRef([]);\n  const [stopsList, setStopsList] = useState([]);\n  const newStopDest = useRef({\n    address: \"\",\n    coords: []\n  });\n  const [newStopTime, setNewStopTime] = useState(\"\");\n  const [newStopText, setNewStopText] = useState(\"\");\n  const [startText, setStartText] = useState(\"\");\n  const [destText, setDestText] = useState(\"\"); // error messages\n\n  const [newStopDestErrorText, setNewStopDestErrorText] = useState(\"\");\n  const [newStopTimeErrorText, setNewStopTimeErrorText] = useState(\"\");\n  const [startErrorText, setStartErrorText] = useState(\"\");\n  const [destErrorText, setDestErrorText] = useState(\"\");\n  const [timeErrorText, setTimeErrorText] = useState(\"\");\n  const start = useRef({\n    address: \"\",\n    coords: []\n  });\n  const dest = useRef({\n    address: \"\",\n    coords: []\n  });\n  const [date, setDate] = useState(new Date());\n  const [comfort, setComfort] = useState(3);\n  const [reRoutes, setReRoutes] = useState(1);\n  const [loadingText, setLoadingText] = useState(\"\");\n  const [route, setRoute] = useState({});\n  const oneWeekFromNow = new Date();\n  oneWeekFromNow.setDate(oneWeekFromNow.getDate() + 7);\n\n  function addStop() {\n    let errorPresent = false;\n\n    if (newStopDest.current.coords.length == 0) {\n      errorPresent = true;\n      setNewStopDestErrorText(\"Must input a valid place\");\n    }\n\n    if (newStopTime == \"\") {\n      errorPresent = true;\n      setNewStopTimeErrorText(\"Must input a valid time\");\n    }\n\n    if (parseInt(newStopTime) < 0) {\n      errorPresent = true;\n      setNewStopTimeErrorText(\"Time must be positive\");\n    } else if (parseInt(newStopTime) > 168) {\n      errorPresent = true;\n      setNewStopTimeErrorText(\"Time is too large (must be under 168 hours)\");\n    }\n\n    if (!errorPresent) {\n      stops.current.push({\n        lat: newStopDest.current.coords[0],\n        lng: newStopDest.current.coords[1],\n        time: newStopTime\n      });\n      setStopsList(stopsList.concat( /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"stopTile\",\n        children: newStopDest.current.address\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 43\n      }, this)));\n      clearNewStopForm();\n    }\n  }\n\n  function clearNewStopForm() {\n    newStopDest.current = {\n      address: \"\",\n      coords: []\n    };\n    setNewStopText(\"\");\n    setNewStopTime(\"\");\n    setNewStopDestErrorText(\"\");\n    setNewStopTimeErrorText(\"\");\n  }\n\n  function useCurrentLocation() {\n    setStartText(\"Loading...\");\n    navigator.geolocation.getCurrentPosition(function (position) {\n      console.log([position.coords.latitude, position.coords.longitude]);\n      start.current = {\n        address: \"current location\",\n        coords: [position.coords.latitude, position.coords.longitude]\n      };\n      setStartText(\"Your Location (\" + position.coords.latitude + \", \" + position.coords.longitude + \")\");\n    });\n  } // calls routing algorithm and switches to next page\n\n\n  function go() {\n    //error handling\n    let errorPresent = false;\n\n    if (date == null) {\n      errorPresent = true;\n      setTimeErrorText(\"Please enter a valid date and time\");\n    }\n\n    if (start.current.coords.length === 0) {\n      errorPresent = true;\n      setStartErrorText(\"Please enter a valid address\");\n    }\n\n    if (dest.current.coords.length === 0) {\n      errorPresent = true;\n      setDestErrorText(\"Please enter a valid address\");\n    }\n\n    if (!errorPresent) {\n      // run the algorithm\n      setLoadingText(\"Loading...\");\n      console.log(stops.current);\n      console.log(\"ReRoutes: \" + reRoutes);\n      const toSend = {\n        startLat: start.current.coords[0],\n        startLon: start.current.coords[1],\n        destLat: dest.current.coords[0],\n        destLon: dest.current.coords[1],\n        time: date,\n        stops: stops.current,\n        reRoutes: reRoutes\n      };\n      let config = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          'Access-Control-Allow-Origin': '*'\n        }\n      };\n      axios.post(\"http://localhost:4567/run\", toSend, config).then(response => {\n        console.log(response.data);\n        setRoute(response.data[\"route\"]);\n      }).catch(function (error) {\n        console.log(error);\n        setLoadingText(\"Something went wrong. Please try again\");\n      });\n      console.log([dest.current.coords[0], dest.current.coords[1]]);\n    }\n  }\n\n  useEffect(() => {\n    console.log(Object.keys(route).length);\n\n    if (Object.keys(route).length !== 0) {\n      console.log(\"REDIRECTING\");\n      setRedirectToResultsPage( /*#__PURE__*/_jsxDEV(Redirect, {\n        to: {\n          pathname: \"/results\",\n          state: route // state: {\n          //     route: [\n          //         {weather: {}, coords: [start.current.coords[0], start.current.coords[1]]},\n          //         {weather: {}, coords: [dest.current.coords[0], dest.current.coords[1]]}\n          //     ]\n          // }\n\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 38\n      }, this)); //to prevent reload from happening before redirect has finished\n\n      setTimeout(() => {\n        window.location.reload(false);\n      }, 10);\n    }\n  }, [route]);\n\n  function clearForm() {\n    setTimeErrorText(\"\");\n    setDate(null);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Menu\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"weatherDisplay\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"subtitle\",\n        children: \"Where will you travel today?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"loadingText\",\n      children: loadingText\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inputForm\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"inputLabel\",\n          children: \"Choose your starting point:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"startingPoint\",\n          children: [/*#__PURE__*/_jsxDEV(LocationInput, {\n            val: startText,\n            setVal: setStartText,\n            toUpdate: start,\n            className: \"locationInput\",\n            placeholder: 'Search Places ...'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"errorText2\",\n            children: startErrorText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: useCurrentLocation,\n            className: \"locationBtn\",\n            children: [/*#__PURE__*/_jsxDEV(NearMe, {\n              className: \"locationIcon\",\n              fontSize: \"small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 88\n            }, this), \"Use current location\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"inputLabel\",\n          children: \"Choose your destination:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(LocationInput, {\n            val: destText,\n            setVal: setDestText,\n            toUpdate: dest,\n            className: \"locationInput\",\n            placeholder: 'Search Places ...'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"errorText2\",\n            children: destErrorText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"inputLabel\",\n          children: \"When is your trip: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(DateTimePicker, {\n            className: \"dateTimePicker\",\n            onChange: setDate,\n            value: date,\n            disableClock: true,\n            maxDate: oneWeekFromNow,\n            minDate: new Date()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"errorText2\",\n            children: timeErrorText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"reRoutes\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"inputLabel\",\n              children: \"How comfortable are you with driving in bad weather?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                display: 'flex',\n                justifyContent: 'space-evenly'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"subText\",\n                children: \"1 (Highly uncomfortable)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 93\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"subText\",\n                children: \"3 (Completely comfortable)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 146\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"reRoutesNumber\",\n            children: comfort\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"arrows\",\n            children: [/*#__PURE__*/_jsxDEV(KeyboardArrowUp, {\n              onClick: () => {\n                if (comfort < 3) {\n                  setReRoutes(reRoutes - 1);\n                  setComfort(comfort + 1);\n                  console.log(reRoutes);\n                }\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(KeyboardArrowDown, {\n              onClick: () => {\n                if (comfort >= 2) {\n                  setReRoutes(reRoutes + 1);\n                  setComfort(comfort - 1);\n                  console.log(reRoutes);\n                }\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        className: \"divider\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stopsForm\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"generalLabel\",\n          children: \"Any stops along the way?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"stopsList\",\n          children: stopsList\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"newStopForm\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"formContainer\",\n            children: [/*#__PURE__*/_jsxDEV(LocationInput, {\n              val: newStopText,\n              setVal: setNewStopText,\n              toUpdate: newStopDest,\n              className: \"locationInput\",\n              placeholder: \"Where is your stop?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"errorText\",\n              children: newStopDestErrorText\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              min: \"1\",\n              max: \"10080\",\n              value: newStopTime,\n              onChange: event => setNewStopTime(event.target.value),\n              placeholder: \"For how long? (hours)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"errorText\",\n              children: newStopTimeErrorText\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"twoBtns\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"clearBtn\",\n                onClick: clearNewStopForm,\n                children: \"CLEAR\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"addBtn\",\n                onClick: addStop,\n                children: \"ADD\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 13\n    }, this), redirectToResultsPage, /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"goBtn\",\n      onClick: go,\n      children: \"GO\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 185,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Menu, \"l4htLWAInROQhZqRL3OWwuT4/ZI=\");\n\n_c = Menu;\nexport default Menu;\n\nvar _c;\n\n$RefreshReg$(_c, \"Menu\");","map":{"version":3,"sources":["/Users/naveen/cs0320/term-project-amanjal-igurland-jpate-nsharm25/frontend/src/Menu.js"],"names":["Toggle","ArrowDropUp","Directions","Home","KeyboardArrowDown","KeyboardArrowUp","LocationOn","NearMe","WbSunny","useRef","useState","useEffect","LocationInput","DateTimePicker","Redirect","axios","Menu","props","redirectToResultsPage","setRedirectToResultsPage","stops","stopsList","setStopsList","newStopDest","address","coords","newStopTime","setNewStopTime","newStopText","setNewStopText","startText","setStartText","destText","setDestText","newStopDestErrorText","setNewStopDestErrorText","newStopTimeErrorText","setNewStopTimeErrorText","startErrorText","setStartErrorText","destErrorText","setDestErrorText","timeErrorText","setTimeErrorText","start","dest","date","setDate","Date","comfort","setComfort","reRoutes","setReRoutes","loadingText","setLoadingText","route","setRoute","oneWeekFromNow","getDate","addStop","errorPresent","current","length","parseInt","push","lat","lng","time","concat","clearNewStopForm","useCurrentLocation","navigator","geolocation","getCurrentPosition","position","console","log","latitude","longitude","go","toSend","startLat","startLon","destLat","destLon","config","headers","post","then","response","data","catch","error","Object","keys","pathname","state","setTimeout","window","location","reload","clearForm","display","justifyContent","event","target","value"],"mappings":";;;AAAA,OAAO,WAAP;AACA,OAAOA,MAAP,MAAmB,UAAnB;AACA,SACIC,WADJ,EAEIC,UAFJ,EAGIC,IAHJ,EAIIC,iBAJJ,EAKIC,eALJ,EAMIC,UANJ,EAOIC,MAPJ,EAQIC,OARJ,QASO,oBATP;AAUA,SAAQC,MAAR,EAAgBC,QAAhB,EAA0BC,SAA1B,QAA0C,OAA1C;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,OAAOC,cAAP,MAA2B,0CAA3B;AACA,SAAQC,QAAR,QAAuB,kBAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,SAASC,IAAT,CAAcC,KAAd,EAAqB;AAAA;;AAEjB,QAAM,CAACC,qBAAD,EAAwBC,wBAAxB,IAAoDT,QAAQ,CAAC,IAAD,CAAlE;AAEA,QAAMU,KAAK,GAAGX,MAAM,CAAC,EAAD,CAApB;AACA,QAAM,CAACY,SAAD,EAAYC,YAAZ,IAA4BZ,QAAQ,CAAC,EAAD,CAA1C;AAEA,QAAMa,WAAW,GAAGd,MAAM,CAAC;AAACe,IAAAA,OAAO,EAAE,EAAV;AAAcC,IAAAA,MAAM,EAAE;AAAtB,GAAD,CAA1B;AACA,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCjB,QAAQ,CAAC,EAAD,CAA9C;AAEA,QAAM,CAACkB,WAAD,EAAcC,cAAd,IAAgCnB,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM,CAACoB,SAAD,EAAYC,YAAZ,IAA4BrB,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACsB,QAAD,EAAWC,WAAX,IAA0BvB,QAAQ,CAAC,EAAD,CAAxC,CAZiB,CAcjB;;AACA,QAAM,CAACwB,oBAAD,EAAuBC,uBAAvB,IAAkDzB,QAAQ,CAAC,EAAD,CAAhE;AACA,QAAM,CAAC0B,oBAAD,EAAuBC,uBAAvB,IAAkD3B,QAAQ,CAAC,EAAD,CAAhE;AACA,QAAM,CAAC4B,cAAD,EAAiBC,iBAAjB,IAAsC7B,QAAQ,CAAC,EAAD,CAApD;AACA,QAAM,CAAC8B,aAAD,EAAgBC,gBAAhB,IAAoC/B,QAAQ,CAAC,EAAD,CAAlD;AACA,QAAM,CAACgC,aAAD,EAAgBC,gBAAhB,IAAoCjC,QAAQ,CAAC,EAAD,CAAlD;AAEA,QAAMkC,KAAK,GAAGnC,MAAM,CAAC;AAACe,IAAAA,OAAO,EAAE,EAAV;AAAcC,IAAAA,MAAM,EAAE;AAAtB,GAAD,CAApB;AACA,QAAMoB,IAAI,GAAGpC,MAAM,CAAC;AAACe,IAAAA,OAAO,EAAE,EAAV;AAAcC,IAAAA,MAAM,EAAC;AAArB,GAAD,CAAnB;AACA,QAAM,CAACqB,IAAD,EAAOC,OAAP,IAAkBrC,QAAQ,CAAC,IAAIsC,IAAJ,EAAD,CAAhC;AAEA,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBxC,QAAQ,CAAC,CAAD,CAAtC;AACA,QAAM,CAACyC,QAAD,EAAWC,WAAX,IAA0B1C,QAAQ,CAAC,CAAD,CAAxC;AAEA,QAAM,CAAC2C,WAAD,EAAcC,cAAd,IAAgC5C,QAAQ,CAAC,EAAD,CAA9C;AAEA,QAAM,CAAC6C,KAAD,EAAQC,QAAR,IAAoB9C,QAAQ,CAAC,EAAD,CAAlC;AAEA,QAAM+C,cAAc,GAAG,IAAIT,IAAJ,EAAvB;AACAS,EAAAA,cAAc,CAACV,OAAf,CAAuBU,cAAc,CAACC,OAAf,KAA2B,CAAlD;;AAEA,WAASC,OAAT,GAAmB;AACf,QAAIC,YAAY,GAAG,KAAnB;;AACA,QAAIrC,WAAW,CAACsC,OAAZ,CAAoBpC,MAApB,CAA2BqC,MAA3B,IAAqC,CAAzC,EAA4C;AACxCF,MAAAA,YAAY,GAAG,IAAf;AACAzB,MAAAA,uBAAuB,CAAC,0BAAD,CAAvB;AACH;;AACD,QAAIT,WAAW,IAAI,EAAnB,EAAuB;AACnBkC,MAAAA,YAAY,GAAG,IAAf;AACAvB,MAAAA,uBAAuB,CAAC,yBAAD,CAAvB;AACH;;AACD,QAAI0B,QAAQ,CAACrC,WAAD,CAAR,GAAwB,CAA5B,EAA+B;AAC3BkC,MAAAA,YAAY,GAAG,IAAf;AACAvB,MAAAA,uBAAuB,CAAC,uBAAD,CAAvB;AACH,KAHD,MAGO,IAAI0B,QAAQ,CAACrC,WAAD,CAAR,GAAwB,GAA5B,EAAiC;AACpCkC,MAAAA,YAAY,GAAG,IAAf;AACAvB,MAAAA,uBAAuB,CAAC,6CAAD,CAAvB;AACH;;AACD,QAAI,CAACuB,YAAL,EAAmB;AACfxC,MAAAA,KAAK,CAACyC,OAAN,CAAcG,IAAd,CAAmB;AACfC,QAAAA,GAAG,EAAE1C,WAAW,CAACsC,OAAZ,CAAoBpC,MAApB,CAA2B,CAA3B,CADU;AAEfyC,QAAAA,GAAG,EAAE3C,WAAW,CAACsC,OAAZ,CAAoBpC,MAApB,CAA2B,CAA3B,CAFU;AAGf0C,QAAAA,IAAI,EAAEzC;AAHS,OAAnB;AAKAJ,MAAAA,YAAY,CAACD,SAAS,CAAC+C,MAAV,eAAiB;AAAI,QAAA,SAAS,EAAE,UAAf;AAAA,kBAA4B7C,WAAW,CAACsC,OAAZ,CAAoBrC;AAAhD;AAAA;AAAA;AAAA;AAAA,cAAjB,CAAD,CAAZ;AACA6C,MAAAA,gBAAgB;AACnB;AACJ;;AAED,WAASA,gBAAT,GAA4B;AACxB9C,IAAAA,WAAW,CAACsC,OAAZ,GAAsB;AAACrC,MAAAA,OAAO,EAAE,EAAV;AAAcC,MAAAA,MAAM,EAAE;AAAtB,KAAtB;AACAI,IAAAA,cAAc,CAAC,EAAD,CAAd;AACAF,IAAAA,cAAc,CAAC,EAAD,CAAd;AACAQ,IAAAA,uBAAuB,CAAC,EAAD,CAAvB;AACAE,IAAAA,uBAAuB,CAAC,EAAD,CAAvB;AACH;;AAED,WAASiC,kBAAT,GAA8B;AAC1BvC,IAAAA,YAAY,CAAC,YAAD,CAAZ;AACAwC,IAAAA,SAAS,CAACC,WAAV,CAAsBC,kBAAtB,CAAyC,UAASC,QAAT,EAAmB;AACxDC,MAAAA,OAAO,CAACC,GAAR,CAAY,CAACF,QAAQ,CAACjD,MAAT,CAAgBoD,QAAjB,EAA2BH,QAAQ,CAACjD,MAAT,CAAgBqD,SAA3C,CAAZ;AACAlC,MAAAA,KAAK,CAACiB,OAAN,GAAgB;AAACrC,QAAAA,OAAO,EAAE,kBAAV;AAA8BC,QAAAA,MAAM,EAAE,CAACiD,QAAQ,CAACjD,MAAT,CAAgBoD,QAAjB,EAA2BH,QAAQ,CAACjD,MAAT,CAAgBqD,SAA3C;AAAtC,OAAhB;AACA/C,MAAAA,YAAY,CAAC,oBAAoB2C,QAAQ,CAACjD,MAAT,CAAgBoD,QAApC,GAA+C,IAA/C,GAAsDH,QAAQ,CAACjD,MAAT,CAAgBqD,SAAtE,GAAkF,GAAnF,CAAZ;AACH,KAJD;AAKH,GA9EgB,CAgFjB;;;AACA,WAASC,EAAT,GAAc;AAEV;AACA,QAAInB,YAAY,GAAI,KAApB;;AACA,QAAId,IAAI,IAAI,IAAZ,EAAkB;AACdc,MAAAA,YAAY,GAAG,IAAf;AACAjB,MAAAA,gBAAgB,CAAC,oCAAD,CAAhB;AACH;;AACD,QAAIC,KAAK,CAACiB,OAAN,CAAcpC,MAAd,CAAqBqC,MAArB,KAAgC,CAApC,EAAuC;AACnCF,MAAAA,YAAY,GAAG,IAAf;AACArB,MAAAA,iBAAiB,CAAC,8BAAD,CAAjB;AACH;;AACD,QAAIM,IAAI,CAACgB,OAAL,CAAapC,MAAb,CAAoBqC,MAApB,KAA+B,CAAnC,EAAsC;AAClCF,MAAAA,YAAY,GAAG,IAAf;AACAnB,MAAAA,gBAAgB,CAAC,8BAAD,CAAhB;AACH;;AACD,QAAG,CAACmB,YAAJ,EAAkB;AACd;AAEAN,MAAAA,cAAc,CAAC,YAAD,CAAd;AACAqB,MAAAA,OAAO,CAACC,GAAR,CAAYxD,KAAK,CAACyC,OAAlB;AAEAc,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAezB,QAA3B;AAEA,YAAM6B,MAAM,GAAG;AACXC,QAAAA,QAAQ,EAAErC,KAAK,CAACiB,OAAN,CAAcpC,MAAd,CAAqB,CAArB,CADC;AAEXyD,QAAAA,QAAQ,EAAEtC,KAAK,CAACiB,OAAN,CAAcpC,MAAd,CAAqB,CAArB,CAFC;AAGX0D,QAAAA,OAAO,EAAEtC,IAAI,CAACgB,OAAL,CAAapC,MAAb,CAAoB,CAApB,CAHE;AAIX2D,QAAAA,OAAO,EAAEvC,IAAI,CAACgB,OAAL,CAAapC,MAAb,CAAoB,CAApB,CAJE;AAKX0C,QAAAA,IAAI,EAAErB,IALK;AAMX1B,QAAAA,KAAK,EAAEA,KAAK,CAACyC,OANF;AAOXV,QAAAA,QAAQ,EAAEA;AAPC,OAAf;AAUA,UAAIkC,MAAM,GAAG;AACTC,QAAAA,OAAO,EAAE;AACL,0BAAgB,kBADX;AAEL,yCAA+B;AAF1B;AADA,OAAb;AAOAvE,MAAAA,KAAK,CAACwE,IAAN,CACI,2BADJ,EAEIP,MAFJ,EAGIK,MAHJ,EAKKG,IALL,CAKUC,QAAQ,IAAI;AACdd,QAAAA,OAAO,CAACC,GAAR,CAAYa,QAAQ,CAACC,IAArB;AACAlC,QAAAA,QAAQ,CAACiC,QAAQ,CAACC,IAAT,CAAc,OAAd,CAAD,CAAR;AACH,OARL,EASKC,KATL,CASW,UAAUC,KAAV,EAAiB;AACpBjB,QAAAA,OAAO,CAACC,GAAR,CAAYgB,KAAZ;AACAtC,QAAAA,cAAc,CAAC,wCAAD,CAAd;AACH,OAZL;AAcAqB,MAAAA,OAAO,CAACC,GAAR,CAAY,CAAC/B,IAAI,CAACgB,OAAL,CAAapC,MAAb,CAAoB,CAApB,CAAD,EAAyBoB,IAAI,CAACgB,OAAL,CAAapC,MAAb,CAAoB,CAApB,CAAzB,CAAZ;AACH;AAEJ;;AAEDd,EAAAA,SAAS,CAAC,MAAM;AACZgE,IAAAA,OAAO,CAACC,GAAR,CAAYiB,MAAM,CAACC,IAAP,CAAYvC,KAAZ,EAAmBO,MAA/B;;AACA,QAAI+B,MAAM,CAACC,IAAP,CAAYvC,KAAZ,EAAmBO,MAAnB,KAA8B,CAAlC,EAAqC;AACjCa,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACAzD,MAAAA,wBAAwB,eAAC,QAAC,QAAD;AAAU,QAAA,EAAE,EAAE;AACnC4E,UAAAA,QAAQ,EAAE,UADyB;AAEnCC,UAAAA,KAAK,EAAEzC,KAF4B,CAGnC;AACA;AACA;AACA;AACA;AACA;;AARmC;AAAd;AAAA;AAAA;AAAA;AAAA,cAAD,CAAxB,CAFiC,CAYjC;;AACA0C,MAAAA,UAAU,CAAC,MAAM;AAACC,QAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB;AAA8B,OAAtC,EAAwC,EAAxC,CAAV;AACH;AACJ,GAjBQ,EAiBN,CAAC7C,KAAD,CAjBM,CAAT;;AAmBA,WAAS8C,SAAT,GAAqB;AACjB1D,IAAAA,gBAAgB,CAAC,EAAD,CAAhB;AACAI,IAAAA,OAAO,CAAC,IAAD,CAAP;AACH;;AAED,sBACI;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA,4BACI;AAAK,MAAA,SAAS,EAAE,gBAAhB;AAAA,6BACI;AAAI,QAAA,SAAS,EAAE,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ,eAII;AAAI,MAAA,SAAS,EAAE,aAAf;AAAA,gBAA+BM;AAA/B;AAAA;AAAA;AAAA;AAAA,YAJJ,eAKI;AAAK,MAAA,SAAS,EAAE,WAAhB;AAAA,8BACI;AAAK,QAAA,SAAS,EAAE,WAAhB;AAAA,gCACI;AAAO,UAAA,SAAS,EAAE,YAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAK,UAAA,SAAS,EAAE,eAAhB;AAAA,kCACI,QAAC,aAAD;AAAe,YAAA,GAAG,EAAEvB,SAApB;AAA+B,YAAA,MAAM,EAAEC,YAAvC;AAAqD,YAAA,QAAQ,EAAEa,KAA/D;AAAsE,YAAA,SAAS,EAAE,eAAjF;AAAkG,YAAA,WAAW,EAAE;AAA/G;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAG,YAAA,SAAS,EAAE,YAAd;AAAA,sBAA6BN;AAA7B;AAAA;AAAA;AAAA;AAAA,kBAFJ,eAGI;AAAQ,YAAA,OAAO,EAAEgC,kBAAjB;AAAqC,YAAA,SAAS,EAAE,aAAhD;AAAA,oCAA+D,QAAC,MAAD;AAAQ,cAAA,SAAS,EAAE,cAAnB;AAAmC,cAAA,QAAQ,EAAE;AAA7C;AAAA;AAAA;AAAA;AAAA,oBAA/D;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAOI;AAAO,UAAA,SAAS,EAAE,YAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAPJ,eAQQ;AAAA,kCACI,QAAC,aAAD;AAAe,YAAA,GAAG,EAAEtC,QAApB;AAA8B,YAAA,MAAM,EAAEC,WAAtC;AAAmD,YAAA,QAAQ,EAAEY,IAA7D;AAAmE,YAAA,SAAS,EAAE,eAA9E;AAA+F,YAAA,WAAW,EAAE;AAA5G;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAG,YAAA,SAAS,EAAE,YAAd;AAAA,sBAA6BL;AAA7B;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBARR,eAYI;AAAO,UAAA,SAAS,EAAE,YAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAZJ,eAaI;AAAA,kCACI,QAAC,cAAD;AACI,YAAA,SAAS,EAAE,gBADf;AAEI,YAAA,QAAQ,EAAEO,OAFd;AAGI,YAAA,KAAK,EAAED,IAHX;AAII,YAAA,YAAY,EAAE,IAJlB;AAKI,YAAA,OAAO,EAAEW,cALb;AAMI,YAAA,OAAO,EAAE,IAAIT,IAAJ;AANb;AAAA;AAAA;AAAA;AAAA,kBADJ,eAQI;AAAG,YAAA,SAAS,EAAE,YAAd;AAAA,sBAA6BN;AAA7B;AAAA;AAAA;AAAA;AAAA,kBARJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAbJ,eAuBI;AAAK,UAAA,SAAS,EAAE,UAAhB;AAAA,kCACI;AAAA,oCACI;AAAO,cAAA,SAAS,EAAE,YAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAM,cAAA,KAAK,EAAE;AAAC4D,gBAAAA,OAAO,EAAE,MAAV;AAAkBC,gBAAAA,cAAc,EAAE;AAAlC,eAAb;AAAA,sCAAgE;AAAG,gBAAA,SAAS,EAAE,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAhE,eAAqH;AAAG,gBAAA,SAAS,EAAE,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAArH;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAKI;AAAI,YAAA,SAAS,EAAE,gBAAf;AAAA,sBAAkCtD;AAAlC;AAAA;AAAA;AAAA;AAAA,kBALJ,eAMI;AAAK,YAAA,SAAS,EAAE,QAAhB;AAAA,oCACI,QAAC,eAAD;AAAiB,cAAA,OAAO,EAAE,MAAM;AAC5B,oBAAIA,OAAO,GAAG,CAAd,EAAiB;AACbG,kBAAAA,WAAW,CAACD,QAAQ,GAAG,CAAZ,CAAX;AACAD,kBAAAA,UAAU,CAACD,OAAO,GAAG,CAAX,CAAV;AACA0B,kBAAAA,OAAO,CAACC,GAAR,CAAYzB,QAAZ;AACH;AACJ;AAND;AAAA;AAAA;AAAA;AAAA,oBADJ,eAQI,QAAC,iBAAD;AAAmB,cAAA,OAAO,EAAE,MAAM;AAC9B,oBAAIF,OAAO,IAAI,CAAf,EAAkB;AACdG,kBAAAA,WAAW,CAACD,QAAQ,GAAG,CAAZ,CAAX;AACAD,kBAAAA,UAAU,CAACD,OAAO,GAAG,CAAX,CAAV;AACA0B,kBAAAA,OAAO,CAACC,GAAR,CAAYzB,QAAZ;AACH;AACJ;AAND;AAAA;AAAA;AAAA;AAAA,oBARJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBANJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAvBJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAgDI;AAAI,QAAA,SAAS,EAAE;AAAf;AAAA;AAAA;AAAA;AAAA,cAhDJ,eAiDI;AAAK,QAAA,SAAS,EAAE,WAAhB;AAAA,gCACI;AAAO,UAAA,SAAS,EAAE,cAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAI,UAAA,SAAS,EAAE,WAAf;AAAA,oBAA6B9B;AAA7B;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAGI;AAAK,UAAA,SAAS,EAAE,aAAhB;AAAA,iCACI;AAAK,YAAA,SAAS,EAAE,eAAhB;AAAA,oCACI,QAAC,aAAD;AAAe,cAAA,GAAG,EAAEO,WAApB;AAAiC,cAAA,MAAM,EAAEC,cAAzC;AAAyD,cAAA,QAAQ,EAAEN,WAAnE;AAAgF,cAAA,SAAS,EAAE,eAA3F;AAA4G,cAAA,WAAW,EAAE;AAAzH;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAG,cAAA,SAAS,EAAE,WAAd;AAAA,wBAA4BW;AAA5B;AAAA;AAAA;AAAA;AAAA,oBAFJ,eAGI;AAAO,cAAA,IAAI,EAAC,QAAZ;AAAqB,cAAA,GAAG,EAAC,GAAzB;AAA6B,cAAA,GAAG,EAAC,OAAjC;AAAyC,cAAA,KAAK,EAAER,WAAhD;AAA6D,cAAA,QAAQ,EAAE8E,KAAK,IAAI7E,cAAc,CAAC6E,KAAK,CAACC,MAAN,CAAaC,KAAd,CAA9F;AAAoH,cAAA,WAAW,EAAE;AAAjI;AAAA;AAAA;AAAA;AAAA,oBAHJ,eAII;AAAG,cAAA,SAAS,EAAE,WAAd;AAAA,wBAA4BtE;AAA5B;AAAA;AAAA;AAAA;AAAA,oBAJJ,eAKI;AAAM,cAAA,SAAS,EAAE,SAAjB;AAAA,sCACI;AAAQ,gBAAA,SAAS,EAAE,UAAnB;AAA+B,gBAAA,OAAO,EAAEiC,gBAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eAEI;AAAQ,gBAAA,SAAS,EAAE,QAAnB;AAA6B,gBAAA,OAAO,EAAEV,OAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBALJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAjDJ;AAAA;AAAA;AAAA;AAAA;AAAA,YALJ,EAuEKzC,qBAvEL,eAwEI;AAAQ,MAAA,SAAS,EAAE,OAAnB;AAA4B,MAAA,OAAO,EAAE6D,EAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAxEJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AA4EH;;GAjPQ/D,I;;KAAAA,I;AAmPT,eAAeA,IAAf","sourcesContent":["import './App.css';\nimport Toggle from \"./Toggle\";\nimport {\n    ArrowDropUp,\n    Directions,\n    Home,\n    KeyboardArrowDown,\n    KeyboardArrowUp,\n    LocationOn,\n    NearMe,\n    WbSunny\n} from \"@material-ui/icons\";\nimport {useRef, useState, useEffect} from 'react';\nimport LocationInput from \"./LocationInput\";\nimport DateTimePicker from 'react-datetime-picker/dist/entry.nostyle'\nimport {Redirect} from \"react-router-dom\";\nimport axios from \"axios\";\n\nfunction Menu(props) {\n\n    const [redirectToResultsPage, setRedirectToResultsPage] = useState(null);\n\n    const stops = useRef([]);\n    const [stopsList, setStopsList] = useState([]);\n\n    const newStopDest = useRef({address: \"\", coords: []});\n    const [newStopTime, setNewStopTime] = useState(\"\");\n\n    const [newStopText, setNewStopText] = useState(\"\");\n    const [startText, setStartText] = useState(\"\");\n    const [destText, setDestText] = useState(\"\");\n\n    // error messages\n    const [newStopDestErrorText, setNewStopDestErrorText] = useState(\"\");\n    const [newStopTimeErrorText, setNewStopTimeErrorText] = useState(\"\");\n    const [startErrorText, setStartErrorText] = useState(\"\");\n    const [destErrorText, setDestErrorText] = useState(\"\");\n    const [timeErrorText, setTimeErrorText] = useState(\"\");\n\n    const start = useRef({address: \"\", coords: []});\n    const dest = useRef({address: \"\", coords:[]});\n    const [date, setDate] = useState(new Date());\n\n    const [comfort, setComfort] = useState(3);\n    const [reRoutes, setReRoutes] = useState(1);\n\n    const [loadingText, setLoadingText] = useState(\"\");\n\n    const [route, setRoute] = useState({});\n\n    const oneWeekFromNow = new Date();\n    oneWeekFromNow.setDate(oneWeekFromNow.getDate() + 7);\n\n    function addStop() {\n        let errorPresent = false;\n        if (newStopDest.current.coords.length == 0) {\n            errorPresent = true;\n            setNewStopDestErrorText(\"Must input a valid place\")\n        }\n        if (newStopTime == \"\") {\n            errorPresent = true;\n            setNewStopTimeErrorText(\"Must input a valid time\")\n        }\n        if (parseInt(newStopTime) < 0) {\n            errorPresent = true;\n            setNewStopTimeErrorText(\"Time must be positive\")\n        } else if (parseInt(newStopTime) > 168) {\n            errorPresent = true;\n            setNewStopTimeErrorText(\"Time is too large (must be under 168 hours)\")\n        }\n        if (!errorPresent) {\n            stops.current.push({\n                lat: newStopDest.current.coords[0],\n                lng: newStopDest.current.coords[1],\n                time: newStopTime\n            });\n            setStopsList(stopsList.concat(<li className={\"stopTile\"}>{newStopDest.current.address}</li>))\n            clearNewStopForm();\n        }\n    }\n\n    function clearNewStopForm() {\n        newStopDest.current = {address: \"\", coords: []};\n        setNewStopText(\"\");\n        setNewStopTime(\"\");\n        setNewStopDestErrorText(\"\")\n        setNewStopTimeErrorText(\"\")\n    }\n\n    function useCurrentLocation() {\n        setStartText(\"Loading...\");\n        navigator.geolocation.getCurrentPosition(function(position) {\n            console.log([position.coords.latitude, position.coords.longitude])\n            start.current = {address: \"current location\", coords: [position.coords.latitude, position.coords.longitude]}\n            setStartText(\"Your Location (\" + position.coords.latitude + \", \" + position.coords.longitude + \")\");\n        })\n    }\n\n    // calls routing algorithm and switches to next page\n    function go() {\n\n        //error handling\n        let errorPresent  = false;\n        if (date == null) {\n            errorPresent = true;\n            setTimeErrorText(\"Please enter a valid date and time\");\n        }\n        if (start.current.coords.length === 0) {\n            errorPresent = true;\n            setStartErrorText(\"Please enter a valid address\");\n        }\n        if (dest.current.coords.length === 0) {\n            errorPresent = true;\n            setDestErrorText(\"Please enter a valid address\");\n        }\n        if(!errorPresent) {\n            // run the algorithm\n\n            setLoadingText(\"Loading...\");\n            console.log(stops.current);\n\n            console.log(\"ReRoutes: \" + reRoutes);\n\n            const toSend = {\n                startLat: start.current.coords[0],\n                startLon: start.current.coords[1],\n                destLat: dest.current.coords[0],\n                destLon: dest.current.coords[1],\n                time: date,\n                stops: stops.current,\n                reRoutes: reRoutes\n            };\n\n            let config = {\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    'Access-Control-Allow-Origin': '*',\n                }\n            }\n\n            axios.post(\n                \"http://localhost:4567/run\",\n                toSend,\n                config\n            )\n                .then(response => {\n                    console.log(response.data);\n                    setRoute(response.data[\"route\"]);\n                })\n                .catch(function (error) {\n                    console.log(error);\n                    setLoadingText(\"Something went wrong. Please try again\");\n                });\n\n            console.log([dest.current.coords[0], dest.current.coords[1]]);\n        }\n\n    }\n\n    useEffect(() => {\n        console.log(Object.keys(route).length);\n        if (Object.keys(route).length !== 0) {\n            console.log(\"REDIRECTING\")\n            setRedirectToResultsPage(<Redirect to={{\n                pathname: \"/results\",\n                state: route,\n                // state: {\n                //     route: [\n                //         {weather: {}, coords: [start.current.coords[0], start.current.coords[1]]},\n                //         {weather: {}, coords: [dest.current.coords[0], dest.current.coords[1]]}\n                //     ]\n                // }\n            }}/>)\n            //to prevent reload from happening before redirect has finished\n            setTimeout(() => {window.location.reload(false)}, 10);\n        }\n    }, [route])\n\n    function clearForm() {\n        setTimeErrorText(\"\");\n        setDate(null);\n    }\n\n    return (\n        <div className=\"Menu\">\n            <div className={\"weatherDisplay\"}>\n                <h1 className={\"subtitle\"}>Where will you travel today?</h1>\n            </div>\n            <h2 className={\"loadingText\"}>{loadingText}</h2>\n            <div className={\"container\"}>\n                <div className={\"inputForm\"}>\n                    <label className={\"inputLabel\"}>Choose your starting point:</label>\n                    <div className={\"startingPoint\"}>\n                        <LocationInput val={startText} setVal={setStartText} toUpdate={start} className={\"locationInput\"} placeholder={'Search Places ...'}/>\n                        <p className={\"errorText2\"}>{startErrorText}</p>\n                        <button onClick={useCurrentLocation} className={\"locationBtn\"}><NearMe className={\"locationIcon\"} fontSize={\"small\"}/>Use current location</button>\n                    </div>\n                    <label className={\"inputLabel\"}>Choose your destination:</label>\n                        <div>\n                            <LocationInput val={destText} setVal={setDestText} toUpdate={dest} className={\"locationInput\"} placeholder={'Search Places ...'}/>\n                            <p className={\"errorText2\"}>{destErrorText}</p>\n                        </div>\n                    <label className={\"inputLabel\"}>When is your trip: </label>\n                    <div>\n                        <DateTimePicker\n                            className={\"dateTimePicker\"}\n                            onChange={setDate}\n                            value={date}\n                            disableClock={true}\n                            maxDate={oneWeekFromNow}\n                            minDate={new Date()}/>\n                        <p className={\"errorText2\"}>{timeErrorText}</p>\n                    </div>\n                    <div className={\"reRoutes\"}>\n                        <div>\n                            <label className={\"inputLabel\"}>How comfortable are you with driving in bad weather?</label>\n                            <span style={{display: 'flex', justifyContent: 'space-evenly'}}><p className={\"subText\"}>1 (Highly uncomfortable)</p><p className={\"subText\"}>3 (Completely comfortable)</p></span>\n                        </div>\n                        <h2 className={\"reRoutesNumber\"}>{comfort}</h2>\n                        <div className={\"arrows\"}>\n                            <KeyboardArrowUp onClick={() => {\n                                if (comfort < 3) {\n                                    setReRoutes(reRoutes - 1)\n                                    setComfort(comfort + 1);\n                                    console.log(reRoutes);\n                                }\n                            }}></KeyboardArrowUp>\n                            <KeyboardArrowDown onClick={() => {\n                                if (comfort >= 2) {\n                                    setReRoutes(reRoutes + 1)\n                                    setComfort(comfort - 1);\n                                    console.log(reRoutes);\n                                }\n                            }}></KeyboardArrowDown>\n                        </div>\n                    </div>\n                </div>\n                <hr className={\"divider\"}></hr>\n                <div className={\"stopsForm\"}>\n                    <label className={\"generalLabel\"}>Any stops along the way?</label>\n                    <ul className={\"stopsList\"}>{stopsList}</ul>\n                    <div className={\"newStopForm\"}>\n                        <div className={\"formContainer\"}>\n                            <LocationInput val={newStopText} setVal={setNewStopText} toUpdate={newStopDest} className={\"locationInput\"} placeholder={\"Where is your stop?\"}/>\n                            <p className={\"errorText\"}>{newStopDestErrorText}</p>\n                            <input type='number' min='1' max='10080' value={newStopTime} onChange={event => setNewStopTime(event.target.value)} placeholder={\"For how long? (hours)\"} />\n                            <p className={\"errorText\"}>{newStopTimeErrorText}</p>\n                            <span className={\"twoBtns\"}>\n                                <button className={\"clearBtn\"} onClick={clearNewStopForm}>CLEAR</button>\n                                <button className={\"addBtn\"} onClick={addStop}>ADD</button>\n                            </span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            {redirectToResultsPage}\n            <button className={\"goBtn\"} onClick={go}>GO</button>\n        </div>\n    );\n}\n\nexport default Menu;\n"]},"metadata":{},"sourceType":"module"}